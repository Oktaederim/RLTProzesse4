<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RLT-Anlagen Rechner (Profi-Version)</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
    <header>
        <h1>ğŸŒ¬ï¸ RLT-Anlagen Rechner</h1>
        <p class="subtitle">Interaktive Berechnung von ZustÃ¤nden, Leistungen und Energiekosten</p>
    </header>

    <main>
        <div class="card">
            <div class="card-header">
                <h2>Anlagenkonfiguration & ZustÃ¤nde</h2>
                <button id="resetBtn" title="Alle Werte auf Standard zurÃ¼cksetzen">âŸ² Reset</button>
            </div>
            <div class="main-config-section">
                <h4>Hauptkomponenten</h4>
                <div class="switch-container">
                    <label for="kuehlerAktiv" class="switch-label">KÃ¼hler</label>
                    <label class="switch">
                        <input type="checkbox" id="kuehlerAktiv" checked>
                        <span class="slider round"></span>
                    </label>
                </div>
                <div class="input-group" id="kuehlmodusWrapper">
                    <label>KÃ¼hlmodus</label>
                    <div class="radio-group">
                        <label><input type="radio" name="kuehlmodus" value="dehumidify" checked> KÃ¼hlen & Entfeuchten</label>
                        <label><input type="radio" name="kuehlmodus" value="sensible"> Nur KÃ¼hlen (sensibel)</label>
                    </div>
                </div>
            </div>
            <hr>
            <div class="grid-container config-grid">
                <div>
                    <h4>ğŸŒ AuÃŸenluft</h4>
                    <div class="input-group">
                        <label for="tempAussen">Temperatur (Â°C)</label>
                        <input type="number" id="tempAussen" value="20.0" step="0.1" min="-20" max="45">
                    </div>
                    <div class="input-group">
                        <label for="rhAussen">Relative Feuchte (%)</label>
                        <input type="number" id="rhAussen" value="50.0" step="0.1" min="0" max="100">
                    </div>
                </div>

                <div>
                    <h4>ğŸ’¨ Zuluft (Sollwert)</h4>
                    <div class="input-group">
                        <label for="tempZuluft">Temperatur (Â°C)</label>
                        <input type="number" id="tempZuluft" value="20.0" step="0.1" min="0" max="60">
                    </div>
                    <div class="input-group" id="sollFeuchteWrapper">
                        <label for="rhZuluft">Relative Feuchte (%)</label>
                        <input type="number" id="rhZuluft" value="60.0" step="0.1" min="0" max="100">
                    </div>
                </div>

                <div>
                    <h4>ğŸ”§ Anlagenparameter</h4>
                    <div class="input-group">
                        <label for="volumenstrom">Luft-Volumenstrom (mÂ³/h)</label>
                        <input type="number" id="volumenstrom" value="5000" step="50" min="0" max="500000">
                    </div>
                    <div class="input-group">
                        <label for="druck">Luftdruck (hPa)</label>
                        <input type="number" id="druck" value="1013.25" step="0.1" min="950" max="1050">
                    </div>
                </div>
            </div>
            <hr>
            <div class="grid-container water-temp-grid">
                <div class="input-group-inline">
                    <label>Heizwasser T (Â°C V/R)</label>
                    <div>
                        <input type="number" id="tempHeizVorlauf" value="70" step="1" min="0" max="95">
                        <input type="number" id="tempHeizRuecklauf" value="50" step="1" min="0" max="95">
                    </div>
                </div>
                <div class="input-group-inline">
                    <label>KÃ¼hlwasser T (Â°C V/R)</label>
                    <div>
                        <input type="number" id="tempKuehlVorlauf" value="8" step="1" min="0" max="20">
                        <input type="number" id="tempKuehlRuecklauf" value="13" step="1" min="0" max="20">
                    </div>
                </div>
            </div>
        </div>
        
        <div class="card" id="results-card">
            <h2>Anlagenprozess & ZustÃ¤nde</h2>
            <div id="process-overview-container"></div>
            <div class="process-flow-container">
                <div class="process-column">
                    <div class="state-node" id="node-0"><h4>ğŸŒ AuÃŸenluft</h4><p><span class="label">T:</span><span id="res-t-0">--</span>Â°C</p><p><span class="label">rH:</span><span id="res-rh-0">--</span>%</p><p><span class="label">x:</span><span id="res-x-0">--</span>g/kg</p></div>
                </div>
                <div class="arrow">â†’</div>
                <div class="process-column">
                    <div class="component-node" id="comp-ve"><h5>ğŸ”¥ Vorerhitzer</h5><p>P: <span id="res-p-ve">0,00</span> kW</p><p>ğŸ’§ <span id="res-wv-ve">0,00</span> mÂ³/h</p></div>
                    <div class="state-node" id="node-1"><p><span class="label">T:</span><span id="res-t-1">--</span>Â°C</p><p><span class="label">rH:</span><span id="res-rh-1">--</span>%</p><p><span class="label">x:</span><span id="res-x-1">--</span>g/kg</p></div>
                </div>
                <div class="arrow">â†’</div>
                <div class="process-column">
                    <div class="component-node" id="comp-k"><h5>ğŸ’§ KÃ¼hler</h5><p>P: <span id="res-p-k">0,00</span> kW</p><p>ğŸ’§ <span id="res-wv-k">0,00</span> mÂ³/h</p><p>Kondens.: <span id="res-kondensat">0,00</span> kg/h</p></div>
                    <div class="state-node" id="node-2"><p><span class="label">T:</span><span id="res-t-2">--</span>Â°C</p><p><span class="label">rH:</span><span id="res-rh-2">--</span>%</p><p><span class="label">x:</span><span id="res-x-2">--</span>g/kg</p></div>
                </div>
                <div class="arrow">â†’</div>
                <div class="process-column">
                    <div class="component-node" id="comp-ne"><h5>ğŸ”¥ Nacherhitzer</h5><p>P: <span id="res-p-ne">0,00</span> kW</p><p>ğŸ’§ <span id="res-wv-ne">0,00</span> mÂ³/h</p></div>
                    <div class="state-node" id="node-3"><p><span class="label">T:</span><span id="res-t-3">--</span>Â°C</p><p><span class="label">rH:</span><span id="res-rh-3">--</span>%</p><p><span class="label">x:</span><span id="res-x-3">--</span>g/kg</p></div>
                </div>
                <div class="arrow equals">â†’</div>
                <div class="process-column">
                    <div class="state-node final-state" id="node-final"><h4>âœ… Zuluft</h4><p><span class="label">T:</span><span id="res-t-final">--</span>Â°C</p><p><span class="label">rH:</span><span id="res-rh-final">--</span>%</p><p><span class="label">x:</span><span id="res-x-final">--</span>g/kg</p></div>
                </div>
            </div>
            <div id="summary-container"></div>
        </div>

        <div class="card" id="analysis-card">
            <h2>âš¡ Energie- & Kostenanalyse</h2>
            <div class="cost-inputs-wrapper">
                <h4>KostensÃ¤tze</h4>
                <div class="grid-container cost-inputs-grid">
                    <div class="input-group"><label for="preisWaerme">Preis WÃ¤rme (â‚¬/kWh)</label><input type="number" id="preisWaerme" value="0.22" step="0.01"></div>
                    <div class="input-group"><label for="preisKaelte">Preis KÃ¤lteenergie (â‚¬/kWh)</label><input type="number" id="preisKaelte" value="0.33" step="0.01"></div>
                    <div class="input-group"><label for="preisStrom">Preis Strom (â‚¬/kWh)</label><input type="number" id="preisStrom" value="0.26" step="0.01"></div>
                </div>
                <hr>
                <h4>Ventilator-Betriebskosten</h4>
                <div class="grid-container fan-cost-grid">
                    <div class="input-group">
                        <label for="sfp">Spez. Ventilatorleistung (SFP)</label>
                        <input type="number" id="sfp" value="0.555" step="0.001" min="0">
                    </div>
                    <div class="input-group-inline">
                        <label>Gesamt-Betriebszeit (h/a oder d/a)</label>
                        <div>
                            <input type="number" id="betriebsstundenGesamt" value="2400" step="10" min="0" title="Gesamt-Betriebsstunden pro Jahr">
                            <input type="number" id="betriebstageGesamt" value="100" step="1" min="0" title="Gesamt-Betriebstage pro Jahr">
                        </div>
                    </div>
                </div>
                <div class="cost-display power-summary fan-power-display">
                    <span class="cost-label">Elektrische Leistung Ventilator:</span>
                    <span class="cost-value" id="leistungVentilator">0,00 kW</span>
                </div>
            </div>
            <hr>
            <div class="grid-container cost-grid">
                <div class="slider-section">
                    <div class="section-header">
                        <h4>Sollwert-Anpassung (Live-Analyse)</h4>
                        <button id="resetSlidersBtn" title="Analyse auf Referenzwerte zurÃ¼cksetzen" disabled>âŸ² Reset Analyse</button>
                    </div>
                    <div class="slider-group"><label>Volumenstrom: <span id="volumenstromLabel">5000</span> mÂ³/h</label><input type="range" id="volumenstromSlider" min="2500" max="7500" step="50" value="5000"></div>
                    <div class="slider-group"><label>Zuluft-Temperatur: <span id="tempZuluftLabel">20,0</span> Â°C</label><input type="range" id="tempZuluftSlider" min="14" max="26" step="0.1" value="20.0"></div>
                    <div class="slider-group" id="rhZuluftSliderGroup"><label>Zuluft-Rel. Feuchte: <span id="rhZuluftLabel">60,0</span> %</label><input type="range" id="rhZuluftSlider" min="30" max="70" step="0.5" value="60.0"></div>
                    <button id="setReferenceBtn">Referenz festlegen</button>
                    <div id="reference-details" class="invisible"><hr><div class="cost-display change reference"><span class="cost-label">Referenzkosten:</span><span class="cost-value" id="kostenReferenz">--</span></div><div class="cost-display change"><span class="cost-label">Î” Kosten:</span><span class="cost-value" id="kostenAenderung">--</span></div><div class="cost-display change parameter"><span class="cost-label">Î” Temperatur:</span><span class="cost-value" id="tempAenderung">--</span></div><div class="cost-display change parameter"><span class="cost-label">Î” Feuchte:</span><span class="cost-value" id="rhAenderung">--</span></div><div class="cost-display change parameter"><span class="cost-label">Î” Volumenstrom:</span><span class="cost-value" id="volumenAenderung">--</span></div></div>
                </div>
                <div class="cost-output-section">
                    <h4>Leistung & Betriebskosten (â‚¬/h)</h4>
                    <div class="cost-display power-summary"><span class="cost-label">Gesamtleistung WÃ¤rme:</span><span class="cost-value" id="gesamtleistungWaerme">0,00 kW</span></div>
                    <div class="cost-display power-summary"><span class="cost-label">Gesamtleistung KÃ¤lte:</span><span class="cost-value" id="gesamtleistungKaelte">0,00 kW</span></div>
                    <hr>
                    <div class="cost-display" title=""><span class="cost-label">Heizkosten:</span><span class="cost-value" id="kostenHeizung">0,00 â‚¬/h</span></div>
                    <div class="cost-display" title=""><span class="cost-label">KÃ¼hlkosten:</span><span class="cost-value" id="kostenKuehlung">0,00 â‚¬/h</span></div>
                    <div class="cost-display fan-cost-display"><span class="cost-label">Ventilatorkosten:</span><span class="cost-value" id="kostenVentilator">0,00 â‚¬/h</span></div>
                    <hr>
                    <div class="cost-display total"><span class="cost-label">Gesamtkosten:</span><span class="cost-value" id="kostenGesamt">0,00 â‚¬/h</span></div>
                </div>
            </div>
            <hr class="section-divider">
            <div id="annual-cost-estimation">
                <h4 class="annual-cost-header">Jahresbilanz (Richtwert)</h4>
                <div class="input-group">
                    <label for="stundenHeizen">Heizstunden pro Jahr (fÃ¼r therm. Energie)</label>
                    <input type="number" id="stundenHeizen" value="1800" step="10" min="0">
                </div>
                <div class="input-group">
                    <label for="stundenKuehlen">KÃ¼hlstunden pro Jahr (fÃ¼r therm. Energie)</label>
                    <input type="number" id="stundenKuehlen" value="600" step="10" min="0">
                </div>
                
                <h5>JÃ¤hrlicher Energieverbrauch</h5>
                <div class="cost-display"><span class="cost-label">WÃ¤rmeverbrauch:</span><span class="cost-value" id="jahresverbrauchWaerme">0 kWh/a</span></div>
                <div class="cost-display"><span class="cost-label">KÃ¤lteverbrauch:</span><span class="cost-value" id="jahresverbrauchKaelte">0 kWh/a</span></div>
                <div class="cost-display fan-cost-display"><span class="cost-label">Strom Ventilator:</span><span class="cost-value" id="jahresverbrauchVentilator">0 kWh/a</span></div>
                <hr>
                
                <h5>GeschÃ¤tzte Jahreskosten</h5>
                <div class="cost-display" title=""><span class="cost-label">Jahreskosten WÃ¤rme:</span><span class="cost-value" id="jahreskostenWaerme">0 â‚¬/a</span></div>
                <div class="cost-display" title=""><span class="cost-label">Jahreskosten KÃ¤lte:</span><span class="cost-value" id="jahreskostenKaelte">0 â‚¬/a</span></div>
                <div class="cost-display fan-cost-display"><span class="cost-label">Jahreskosten Ventilator:</span><span class="cost-value" id="jahreskostenVentilator">0 â‚¬/a</span></div>
                <hr>
                <div class="cost-display total"><span class="cost-label">Gesamtkosten / Jahr:</span><span class="cost-value" id="jahreskostenGesamt">0 â‚¬/a</span></div>
            </div>
        </div>
        
        <details class="formula-card">
            <summary>FormelÃ¼bersicht anzeigen</summary>
            <div class="formula-content">
                <h4>Thermische Berechnungen</h4>
                <ul>
                    <li><strong>Enthalpie (h):</strong><p>Formel: h = 1,006 Ã— T[Â°C] + (x[g/kg]/1000) Ã— (2501 + 1,86 Ã— T[Â°C])</p></li>
                    <li><strong>Thermische Leistung (P_th):</strong><p>Formel: P_th [kW] = (Volumenstrom [mÂ³/h] / 3600) Ã— 1,2 [kg/mÂ³] Ã— (h_nach - h_vor) [kJ/kg]</p></li>
                </ul>
                <h4>Kostenberechnungen</h4>
                <ul>
                    <li><strong>Elektrische Ventilatorleistung (P_el):</strong><p>Formel: P_el [kW] = (SFP [W/(mÂ³/h)] Ã— Volumenstrom [mÂ³/h]) / 1000</p></li>
                    <li><strong>Kosten pro Stunde (â‚¬/h):</strong><p>Formel: Kosten = Leistung [kW] Ã— Energiepreis [â‚¬/kWh]</p></li>
                    <li><strong>Kosten pro Jahr (â‚¬/a):</strong><p>Formel: Jahreskosten = Kosten pro Stunde [â‚¬/h] Ã— Betriebsstunden [h/a]</p></li>
                </ul>
            </div>
        </details>
    </main>
    <footer class="footer"><p>Profi-Rechner | Erstellt mit Gemini</p></footer>
</div>
<script src="script.js"></script>
</body>
</html>
